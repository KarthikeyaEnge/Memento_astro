---
import {
  FaArrowLeftLong,
  FaLink,
  FaArrowUpLong,
  FaUpRightFromSquare,
} from "react-icons/fa6";
import data from "../data/courses";
import MainLayout from "../layouts/MainLayout.astro";
---

<MainLayout title="courses!! I didðŸ¤”ðŸ˜‰">
  <main class="back h-auto py-2">
    <nav class="p-2 flex w-full flex-col flex-nowrap items-center" id="top">
      <div
        class="rounded-full w-9 h-9 bg-[#1af4e624] flex justify-center items-center self-start"
      >
        <a href="/Home">
          <FaArrowLeftLong className="text-cyan-500" />
        </a>
      </div>

      <h1 class="text-cyan-500 font-krona text-center text-3xl">COURSE WORK</h1>
    </nav>

    <table class="table">
      <thead
        class="lg:text-xl text-md text-slate-300 top-0 sticky bg-slate-900 bg-opacity-5 backdrop-blur-md p-1"
      >
        <th>Issued By</th>
        <th class="lg:block hidden">Year</th>
        <th>Course</th>
        <th>credentials</th>
        <th class="lg:block hidden">Skills</th>
      </thead>
      <tbody>
        {
          data.courses.map((e, i) => {
            return (
              <tr class="hover:bg-[#17eaea2a]">
                <td>
                  <img
                    src={e?.img}
                    class=" h-14  w-14 rounded-lg"
                    alt={e.iby}
                  />
                </td>
                <td class="lg:block hidden">
                  <h1 class="font-krona text-cyan-500">{e.id}</h1>
                </td>
                <td>
                  <button
                    class="font-sora-500 lg:text-sm text-xs text-cyan-500 flex gap-2 items-center flex-shrink-0"
                    onclick={`window.model_${i}.showModal()`}
                  >
                    {e?.name}{" "}
                    <FaUpRightFromSquare className="text-sm text-slate-400" />
                  </button>

                  <dialog id={`model_${i}`} class="modal ">
                    <form
                      method="dialog"
                      class="modal-box  bg-[#8eebf336] backdrop-blur-lg bg-opacity-70"
                    >
                      <figure class="rounded-lg overflow-hidden">
                        <img
                          src={e?.course_img}
                          alt="course_img"
                          class=" h-fit w-auto"
                        />
                      </figure>

                      <section class="card-body font-poppins-400 text-slate-300">
                        <h1 class="card-title font-sora-500">{e?.name}</h1>
                        <h3 class="card-tite text-cyan-300">Description</h3>
                        <p class="prose">{e?.desc}</p>
                        <h2 class="text-cyan-300">Issued by:{e?.iby}</h2>
                        <h2 class="text-cyan-300">Issued Year:{e?.id}</h2>

                        <ul class="flex flow-row flex-wrap items-center">
                          <h2>skills</h2>
                          {e.skills.map((ele, i) => {
                            return (
                              <li class="rounded-full flex items-center justify-center bg-[#2ae2ec53] text-cyan-500 p-1 m-1 w-fit h-auto">
                                <h4>{ele}</h4>
                              </li>
                            );
                          })}
                        </ul>

                        <a
                          class="rounded-full flex items-center justify-center bg-[#2ae2ec53] text-cyan-500 p-1 shadow-lg shadow-[#10333b] active:shadow-none"
                          href={e?.credentials}
                          target="_blank"
                        >
                          <FaLink /> Credentials
                        </a>

                        <a
                          href={e?.course_link}
                          class="flex justify-normal gap-1 items-center hover:text-cyan-400  transition-all "
                        >
                          <FaLink />
                          Browse course
                        </a>
                      </section>
                      <div class="modal-action -mt-10">
                        <button class="btn">close</button>
                      </div>
                    </form>
                  </dialog>
                </td>

                <td>
                  <a
                    class="rounded-full flex items-center justify-center bg-[#2ae2ec53] text-cyan-500 p-1 shadow-lg shadow-slate-950"
                    href={e?.credentials}
                    target="_blank"
                  >
                    <FaLink /> Credentials
                  </a>
                </td>

                <td class="lg:block hidden">
                  <ul class="flex flow-row flex-wrap">
                    {e.skills.map((ele, i) => {
                      return (
                        <li class="rounded-full flex items-center justify-center bg-[#2ae2ec53] text-cyan-500 p-1 m-1 w-fit h-auto">
                          <h4>{ele}</h4>
                        </li>
                      );
                    })}
                  </ul>
                </td>
              </tr>
            );
          })
        }
      </tbody>
    </table>
    <a href="#top" class="p-3 mr-4 self-end">
      <FaArrowUpLong
        className="text-xl hover:scale-y-150 hover:text-cyan-400 transition-all"
      />
    </a>
  </main>
</MainLayout>
